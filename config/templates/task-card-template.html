<!-- Enhanced Module Report Card Template with Detailed Logs -->
<div class="card module-report">
    <div class="card-header">
        <h3>{{MODULE_ICON}} {{MODULE_NAME}}</h3>
        <div style="display: flex; align-items: center; gap: 16px; flex-wrap: wrap;">
            <span class="module-status-badge {{MODULE_STATUS_CLASS}}">{{MODULE_STATUS}}</span>
            <span class="execution-time">‚è±Ô∏è {{EXECUTION_DURATION}}</span>
        </div>
    </div>
    <div class="card-body">
        <!-- Module Description -->
        <div style="margin-bottom: 24px; padding: 18px; background: rgba(0, 120, 212, 0.05); border-radius: 10px; border-left: 4px solid var(--primary-color);">
            <p style="margin: 0; color: var(--text-secondary); font-size: 1em; line-height: 1.6;">
                <strong>üìå Description:</strong> {{MODULE_DESCRIPTION}}
            </p>
        </div>

        <!-- Summary Metrics with Enhanced Design -->
        <div class="module-summary">
            <h4 style="margin-bottom: 18px; color: var(--primary-color); font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                <span>üìä</span>
                <span>Summary Metrics</span>
            </h4>
            <div class="metric-row">
                <div class="metric-item">
                    <span class="metric-label">üîç Detected:</span>
                    <span class="metric-value">{{ITEMS_DETECTED}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">‚öôÔ∏è Processed:</span>
                    <span class="metric-value {{PROCESSED_CLASS}}">{{ITEMS_PROCESSED}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">‚úÖ Success Rate:</span>
                    <span class="metric-value success">{{MODULE_SUCCESS_RATE}}%</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">‚è±Ô∏è Duration:</span>
                    <span class="metric-value">{{EXECUTION_DURATION}}</span>
                </div>
            </div>
        </div>

        <!-- Before/After Comparison -->
        <div class="before-after-section" style="margin-top: 28px;">
            <h4 style="margin-bottom: 18px; color: var(--text-color); font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                <span>üìä</span>
                <span>Before & After Comparison</span>
            </h4>
            <div class="comparison-grid">
                <div class="before-section">
                    <h4 class="section-title">üìã {{BEFORE_TITLE}}</h4>
                    <div class="items-list">
                        {{BEFORE_ITEMS_LIST}}
                    </div>
                </div>
                <div class="after-section">
                    <h4 class="section-title">‚úÖ {{AFTER_TITLE}}</h4>
                    <div class="items-list">
                        {{AFTER_ITEMS_LIST}}
                    </div>
                </div>
            </div>
        </div>

        <!-- Detailed Results Table (if available) -->
        {{#if HAS_DETAILED_RESULTS}}
        <div class="detailed-results" style="margin-top: 28px;">
            <h4 style="margin-bottom: 16px; color: var(--text-color); font-size: 1.1em; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                <span>üìä</span>
                <span>Detailed Results</span>
            </h4>
            <div class="operation-table-container">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Type</th>
                            <th>Before Status</th>
                            <th>Action Taken</th>
                            <th>After Status</th>
                            <th>Result</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{DETAILED_RESULTS_ROWS}}
                    </tbody>
                </table>
            </div>
        </div>
        {{/if}}

        <!-- Changes Summary Grid -->
        <div class="changes-summary" style="margin-top: 28px;">
            <h4 style="margin-bottom: 18px; color: var(--text-color); font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                <span>üìù</span>
                <span>Changes Summary</span>
            </h4>
            <div class="changes-grid">
                {{#if ITEMS_ADDED}}
                <div class="change-category">
                    <div class="change-header">
                        <span><span class="change-icon">‚ûï</span><span class="change-title">Added/Installed</span></span>
                        <span class="change-count success">{{ITEMS_ADDED}}</span>
                    </div>
                    <div class="change-items">{{ADDED_ITEMS}}</div>
                </div>
                {{/if}}
                {{#if ITEMS_REMOVED}}
                <div class="change-category">
                    <div class="change-header">
                        <span><span class="change-icon">‚ûñ</span><span class="change-title">Removed/Uninstalled</span></span>
                        <span class="change-count warning">{{ITEMS_REMOVED}}</span>
                    </div>
                    <div class="change-items">{{REMOVED_ITEMS}}</div>
                </div>
                {{/if}}
                {{#if ITEMS_MODIFIED}}
                <div class="change-category">
                    <div class="change-header">
                        <span><span class="change-icon">üîß</span><span class="change-title">Modified/Updated</span></span>
                        <span class="change-count info">{{ITEMS_MODIFIED}}</span>
                    </div>
                    <div class="change-items">{{MODIFIED_ITEMS}}</div>
                </div>
                {{/if}}
            </div>
        </div>

        <!-- Module Execution Logs -->
        <div class="operation-logs-section" style="margin-top: 28px;">
            <h4 style="color: var(--primary-color); margin-bottom: 15px; font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                <span>üìã</span>
                <span>Operation Logs</span>
            </h4>
            <div class="log-summary">
                <div class="log-stat success">
                    <span>‚úÖ Successful:</span>
                    <strong>{{LOGS_SUCCESS_COUNT}}</strong>
                </div>
                <div class="log-stat error">
                    <span>‚ùå Failed:</span>
                    <strong>{{LOGS_ERROR_COUNT}}</strong>
                </div>
                <div class="log-stat warning">
                    <span>‚ö†Ô∏è Warnings:</span>
                    <strong>{{LOGS_WARNING_COUNT}}</strong>
                </div>
                <div class="log-stat">
                    <span>‚ÑπÔ∏è Info:</span>
                    <strong>{{LOGS_INFO_COUNT}}</strong>
                </div>
            </div>
            <div class="operation-table-container">
                <table class="operation-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Operation</th>
                            <th>Target</th>
                            <th>Result</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{OPERATION_LOG_ROWS}}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Errors and Warnings (if any) -->
        {{#if HAS_ERRORS}}
        <div class="error-section" style="margin-top: 28px;">
            <h4 class="error-title">
                <span>‚ö†Ô∏è</span>
                <span>Errors & Warnings</span>
            </h4>
            <div class="error-list">
                {{ERROR_ITEMS_LIST}}
            </div>
        </div>
        {{/if}}

        <!-- Recommendations (if any) -->
        {{#if HAS_RECOMMENDATIONS}}
        <div class="recommendations-section" style="margin-top: 28px;">
            <h4 class="recommendations-title">
                <span>üí°</span>
                <span>Recommendations</span>
            </h4>
            <div class="recommendations-list">
                {{RECOMMENDATIONS_LIST}}
            </div>
        </div>
        {{/if}}

        <!-- Module Performance Stats -->
        <div style="margin-top: 28px; padding: 18px; background: var(--bg-color); border-radius: 10px; border: 2px solid var(--border-color);">
            <h4 style="margin-bottom: 15px; color: var(--text-color); font-size: 1.1em; display: flex; align-items: center; gap: 8px;">
                <span>‚ö°</span>
                <span>Performance Statistics</span>
            </h4>
            <div class="metric-row">
                <div class="metric-item">
                    <span class="metric-label">‚è±Ô∏è Start Time:</span>
                    <span class="metric-value">{{START_TIME}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">üèÅ End Time:</span>
                    <span class="metric-value">{{END_TIME}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">‚ö° Total Duration:</span>
                    <span class="metric-value">{{EXECUTION_DURATION}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">üíæ Memory Used:</span>
                    <span class="metric-value">{{MEMORY_USED}}</span>
                </div>
            </div>
        </div>
    </div>
</div>
