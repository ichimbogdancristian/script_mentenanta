<!-- Module Report Template - Beautiful Card with Flexbox Layout -->
<div class="card module-report">
    <div class="card-header">
        <h3>{{MODULE_ICON}} {{MODULE_NAME}}</h3>
        <div style="display: flex; align-items: center; gap: 16px; flex-wrap: wrap;">
            <span class="status {{MODULE_STATUS_CLASS}}">{{MODULE_STATUS}}</span>
            <span class="execution-time">‚è±Ô∏è {{EXECUTION_DURATION}}</span>
        </div>
    </div>
    <div class="card-body">
        <!-- Module Description -->
        <div style="margin-bottom: 24px; padding: 16px; background: rgba(0, 120, 212, 0.05); border-radius: 8px; border-left: 4px solid var(--primary-color);">
            <p style="margin: 0; color: var(--text-secondary); font-size: 0.95em; line-height: 1.5;">
                {{MODULE_DESCRIPTION}}
            </p>
        </div>

        <!-- Summary Metrics with Flexbox -->
        <div class="module-summary">
            <h4 style="margin-bottom: 16px; color: var(--primary-color); font-size: 1.1em;">üìä Summary Metrics</h4>
            <div class="metric-row">
                <div class="metric-item">
                    <span class="metric-label">Detected:</span>
                    <span class="metric-value">{{ITEMS_DETECTED}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Processed:</span>
                    <span class="metric-value {{PROCESSED_CLASS}}">{{ITEMS_PROCESSED}}</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Success Rate:</span>
                    <span class="metric-value success">{{MODULE_SUCCESS_RATE}}%</span>
                </div>
            </div>
        </div>

        <!-- Before/After Comparison -->
        <div class="before-after-section">
            <h4>üìã Before & After Comparison</h4>
            <div class="comparison-grid">
                <div class="before-section">
                    <h4 class="section-title">üìã {{BEFORE_TITLE}}</h4>
                    <div class="items-list">
                        {{BEFORE_ITEMS_LIST}}
                    </div>
                </div>
                <div class="after-section">
                    <h4 class="section-title">‚úÖ {{AFTER_TITLE}}</h4>
                    <div class="items-list">
                        {{AFTER_ITEMS_LIST}}
                    </div>
                </div>
            </div>
        </div>

        <!-- Detailed Results Table (if available) -->
        {{#if HAS_DETAILED_RESULTS}}
        <div class="detailed-results" style="margin-bottom: 28px;">
            <h4 style="margin-bottom: 16px; color: var(--text-color); font-size: 1.1em; font-weight: 600;">üìä Detailed Results</h4>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Item</th>
                        <th>Type</th>
                        <th>Before Status</th>
                        <th>Action Taken</th>
                        <th>After Status</th>
                        <th>Result</th>
                    </tr>
                </thead>
                <tbody>
                    {{DETAILED_RESULTS_ROWS}}
                </tbody>
            </table>
        </div>
        {{/if}}

        <!-- Changes Summary Grid -->
        <div class="changes-summary">
            <h4>üìù Changes Summary</h4>
            <div class="changes-grid">
                {{#if ITEMS_ADDED}}
                <div class="change-category">
                    <div class="change-header">
                        <span><span class="change-icon">‚ûï</span><span class="change-title">Added/Installed</span></span>
                        <span class="change-count success">{{ITEMS_ADDED}}</span>
                    </div>
                    <div class="change-items">{{ADDED_ITEMS}}</div>
                </div>
                {{/if}}
                {{#if ITEMS_REMOVED}}
                <div class="change-category">
                    <div class="change-header">
                        <span><span class="change-icon">‚ûñ</span><span class="change-title">Removed/Uninstalled</span></span>
                        <span class="change-count warning">{{ITEMS_REMOVED}}</span>
                    </div>
                    <div class="change-items">{{REMOVED_ITEMS}}</div>
                </div>
                {{/if}}
                {{#if ITEMS_MODIFIED}}
                <div class="change-category">
                    <div class="change-header">
                        <span><span class="change-icon">üîß</span><span class="change-title">Modified/Updated</span></span>
                        <span class="change-count info">{{ITEMS_MODIFIED}}</span>
                    </div>
                    <div class="change-items">{{MODIFIED_ITEMS}}</div>
                </div>
                {{/if}}
            </div>
        </div>

        <!-- Errors and Warnings (if any) -->
        {{#if HAS_ERRORS}}
        <div class="error-section">
            <h4 class="error-title">‚ö†Ô∏è Errors & Warnings</h4>
            <div class="error-list">
                {{ERROR_ITEMS_LIST}}
            </div>
        </div>
        {{/if}}

        <!-- Recommendations (if any) -->
        {{#if HAS_RECOMMENDATIONS}}
        <div class="recommendations-section">
            <h4 class="recommendations-title">üí° Recommendations</h4>
            <div class="recommendations-list">
                {{RECOMMENDATIONS_LIST}}
            </div>
        </div>
        {{/if}}
    </div>
</div>