{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://maintenance-automation/schemas/logging-config.schema.json",
  "title": "Logging Configuration Schema",
  "description": "Logging verbosity and output configuration",
  "type": "object",
  "properties": {
    "logging": {
      "type": "object",
      "description": "Main logging configuration section",
      "properties": {
        "logLevel": {
          "type": "string",
          "enum": [
            "DEBUG",
            "VERBOSE",
            "INFO",
            "WARNING",
            "ERROR",
            "CRITICAL"
          ],
          "description": "Default logging level"
        },
        "enableConsoleOutput": {
          "type": "boolean"
        },
        "enableFileOutput": {
          "type": "boolean"
        },
        "enableProgressBars": {
          "type": "boolean"
        },
        "coloredOutput": {
          "type": "boolean"
        },
        "maxLogSizeMB": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000
        },
        "logRotation": {
          "type": "boolean"
        },
        "keepLogFiles": {
          "type": "integer",
          "minimum": 1
        },
        "enablePerformanceTracking": {
          "type": "boolean"
        },
        "enableStructuredLogging": {
          "type": "boolean"
        },
        "logBufferSize": {
          "type": "integer"
        },
        "flushInterval": {
          "type": "integer"
        },
        "enableModuleSpecificLogs": {
          "type": "boolean"
        },
        "moduleLogComponents": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "operationVerbosity": {
          "type": "string",
          "enum": [
            "Minimal",
            "Normal",
            "Debug",
            "Detailed"
          ]
        }
      }
    },
    "verbosity": {
      "type": "object"
    },
    "defaultLevel": {
      "type": "string",
      "enum": [
        "DEBUG",
        "VERBOSE",
        "INFO",
        "WARNING",
        "ERROR",
        "CRITICAL"
      ],
      "description": "Default logging level for all components"
    },
    "outputTargets": {
      "type": "object",
      "description": "Where to send log output",
      "properties": {
        "console": {
          "type": "boolean",
          "description": "Output logs to console/terminal"
        },
        "file": {
          "type": "boolean",
          "description": "Write logs to file"
        },
        "eventLog": {
          "type": "boolean",
          "description": "Write logs to Windows Event Log"
        }
      }
    },
    "componentLevels": {
      "type": "object",
      "description": "Override log levels for specific components",
      "patternProperties": {
        "^[A-Z_-]+$": {
          "type": "string",
          "enum": [
            "DEBUG",
            "VERBOSE",
            "INFO",
            "WARNING",
            "ERROR",
            "CRITICAL"
          ]
        }
      },
      "additionalProperties": false
    },
    "formatOptions": {
      "type": "object",
      "description": "Log formatting options",
      "properties": {
        "includeTimestamp": {
          "type": "boolean",
          "description": "Include timestamp in log entries"
        },
        "timestampFormat": {
          "type": "string",
          "enum": [
            "ISO8601",
            "RFC3339",
            "UnixTimestamp",
            "Human"
          ],
          "description": "Timestamp format style"
        },
        "includeComponent": {
          "type": "boolean",
          "description": "Include component name in log entries"
        },
        "includeThreadId": {
          "type": "boolean",
          "description": "Include thread/runspace ID"
        },
        "colorizeConsole": {
          "type": "boolean",
          "description": "Use colors in console output"
        }
      }
    },
    "filters": {
      "type": "object",
      "description": "Log filtering rules",
      "properties": {
        "excludePatterns": {
          "type": "array",
          "description": "Regex patterns to exclude from logs",
          "items": {
            "type": "string"
          }
        },
        "includeOnly": {
          "type": "array",
          "description": "Only log entries matching these components",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "rotation": {
      "type": "object",
      "description": "Log file rotation settings",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable automatic log rotation"
        },
        "maxSizeMB": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000,
          "description": "Maximum log file size before rotation (MB)"
        },
        "maxFiles": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "description": "Maximum number of rotated log files to keep"
        },
        "maxAgeDays": {
          "type": "integer",
          "minimum": 1,
          "maximum": 365,
          "description": "Delete logs older than this many days"
        }
      }
    },
    "performance": {
      "type": "object",
      "description": "Performance-related logging settings",
      "properties": {
        "enablePerformanceTracking": {
          "type": "boolean",
          "description": "Track execution times for operations"
        },
        "slowOperationThresholdMs": {
          "type": "integer",
          "minimum": 100,
          "maximum": 60000,
          "description": "Log operations slower than this threshold (milliseconds)"
        },
        "logMemoryUsage": {
          "type": "boolean",
          "description": "Include memory usage in performance logs"
        },
        "trackOperationTiming": {
          "type": "boolean"
        },
        "trackMemoryUsage": {
          "type": "boolean"
        },
        "trackCPUUsage": {
          "type": "boolean"
        },
        "enableAlertThresholds": {
          "type": "boolean"
        },
        "slowOperationThreshold": {
          "type": "number"
        },
        "criticalOperationThreshold": {
          "type": "number"
        }
      }
    },
    "formatting": {
      "type": "object",
      "description": "Log message formatting settings",
      "properties": {
        "dateTimeFormat": {
          "type": "string"
        },
        "messageFormat": {
          "type": "string"
        },
        "progressBarStyle": {
          "type": "string"
        },
        "includeThreadId": {
          "type": "boolean"
        },
        "includeSessionId": {
          "type": "boolean"
        }
      }
    },
    "levels": {
      "type": "object",
      "description": "Configuration for each logging level",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "color": {
            "type": "string"
          },
          "fileOutput": {
            "type": "boolean"
          },
          "consoleOutput": {
            "type": "boolean"
          }
        }
      }
    },
    "components": {
      "type": "object",
      "description": "Component name mappings",
      "additionalProperties": {
        "type": "string"
      }
    },
    "reporting": {
      "type": "object",
      "description": "Log reporting settings",
      "properties": {
        "enableLogExport": {
          "type": "boolean"
        },
        "exportFormats": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "includePerformanceMetrics": {
          "type": "boolean"
        },
        "enableDashboardReports": {
          "type": "boolean"
        },
        "autoGenerateReports": {
          "type": "boolean"
        },
        "reportOutputPath": {
          "type": "string"
        }
      }
    },
    "alerts": {
      "type": "object",
      "description": "Alert configuration",
      "properties": {
        "enableEmailAlerts": {
          "type": "boolean"
        },
        "enableConsoleAlerts": {
          "type": "boolean"
        },
        "criticalErrorThreshold": {
          "type": "integer"
        },
        "warningAccumulationThreshold": {
          "type": "integer"
        }
      }
    }
  },
  "additionalProperties": false
}